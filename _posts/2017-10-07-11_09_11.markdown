---
layout:     post
title:      "Copy Files Across Servers"
subtitle:   "..."
date:       2017-10-07
author:     "Ziping"
header-img: "img/2017-10-07-11_09_11.jpg"
catalog: true
tags:
    - linux
---

# Copy Files Across Servers

以前一直是在服务器上tar打包压缩，下载到本地电脑上，再上传到另外一台服务器上，再解压。

其实使用scp就可以直接对拷文件或者文件夹了。

scp就是secure copy,是用来进行远程文件拷贝的.数据传输使用ssh1,并且和ssh1使用相同的认证方式,提供相同的安全保证.与rcp不同的是,scp会要求你输入密码如果需要的话. 

最简单的应用如下: 

``` shell
scp local_user@IP1:name1 remote_user@IP2:name2 
```

意思是将本地的文件名1拷贝到，远程的文件名2内。

[本地用户名@IP地址:]可以不输入,可能需要输入远程用户名所对应的密码. 

可能有用的几个参数: 
-v 和大多数Linux命令中的-v意思一样,用来显示进度.可以用来查看连接,认证,或是配置错误. 
-C 使能压缩选项. 
-P 选择端口.注意-p已经被rcp使用. 
-4 强行使用IPV4地址. 
-6 强行使用IPV6地址. 
scp中很多参数都和ssh1有关,需要的话在看.

例如拷贝单个文件命令：

scp file username@ip:filepath

说明：file是要拷贝的文件名   

username:远程登录的用户名，

ip：远程服务器ip

filepath：远程文件路径

拷贝文件夹命令如下：scp -r file username@ip:filepath

多加上一个-r参数即可。

# example
```shell
ssh ziping@60.205.205.xx
scp -r ~/file yourUserName@60.205.205.xx:~/file/
```